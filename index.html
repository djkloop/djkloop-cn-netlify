<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>播放器</title>
    <style type="text/css">
    </style>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="./static/dan-mu.css">
  <link rel="stylesheet" href="./static/bullet.css">
</head>
<body>
    <h1 style="text-align:center;margin:0;padding:0;">不碰撞弹幕测试</h1>
    <div id="bullet-1" class="bullet-container">
      <div class="bullet-video">
        <video autoplay src="/static/Introducing Flutter.mp4"></video>
      </div>
      <div class="bullet-wrapper">
      </div>
    </div>
    <script src="./dist/utils/util.js"></script>
    <script src="./dist/bullet-proxy.js"></script>
  <!-- <canvas id="canvas"></canvas>
  <script src="./dist/utils/util.js"></script>
  <script src="./dist/ball.js"></script>
  <script>
    const canvas = document.querySelector('#canvas');
    const ctx = canvas.getContext('2d');

    let W = canvas.width = 800;
    let H = canvas.height = 500;

    let balls = [], g = 0.05;

    for (let index = 0; index < 100; index++) {
      balls.push(new Ball({
        x: W/ 2,
        y: H,
        r: Math.random() > 0.9 ? C.rp([25, 40]) : C.rp([15, 10]),
        fillStyle: C.createColor(),
        vx: C.rp([-3, 3]),
        vy: C.rp([0, -10])
      }))
    }

    function drawBall(ball) {
      ball.x += ball.vx;
      ball.y += ball.vy;
      ball.vy += g;

      if(ball.x - ball.r >= W || ball.x + ball.r <= 0) {
        ball.x = W / 2;
        ball.y = H;
        ball.vx = C.rp([-3, 3]);
        ball.vy = C.rp([0, -10]);
      }

      if(ball.y - ball.r >= H || ball.y + ball.r <= 0) {
        ball.x = W / 2;
        ball.y = H;
        ball.vx = C.rp([-3, 3]);
        ball.vy = C.rp([0, -10]);
      }

      ball.render(ctx);
    }

    (function move() {
      window.requestAnimationFrame(move);

      ctx.clearRect(0, 0, W, H);

      balls.forEach(drawBall)
    })()



  </script> -->
  <!-- <h1 style="margin:0;padding:0;height:30px;line-height:30px;font-size: 20px;text-align: center;">防碰撞弹幕实现demo</h1> -->
  <!-- <div id="danmu-1" class="danmu-container">
    <div class="danmu-menu">
      <div class="danmu-list-wrapper">
        <ul>
          <li>弹幕总条数：<span id="all_runners">0</span></li>
          <li>当前屏幕占有率：<span id="screen_value">0</span></li>
          <li>赛跑者个数：<span id="runner_all_number">0</span></li>
          <li>屏幕上弹幕总数：<span id="screen_runner_all_number">0</span></li>
          <li>屏幕上峰值：<span id="screen_runner_all_number_max">0</span></li>
          <li>弹幕连接失败：<spen id="fail_queue">0</spen></li>
        </ul>
      </div>
    </div>
    <div class="danmu-container-body">
      <div class="danmu-container-video">
        <video autoplay id="flutter-video" src="/static/Introducing Flutter.mp4"></video>
      </div> -->
      <!-- <div class="danmu-container-lists"> -->
        <!-- <div class="danmu-list-item" data-finish="" data-index="" data-type="" data-hash="">
          <div class="danmu_list_item_img"></div>
          <div class="danmu_list_item_content">弹幕文案</div>
        </div> -->
      <!-- </div> -->
    <!-- </div> -->
  <!-- </div> -->
  <!-- <script src="./dist/danmu.js"></script> -->


<!-- <div id="lv-container" data-id="city" data-uid="MTAyMC8zOTI5Mi8xNTgxOQ==">
  <script type="text/javascript">
     (function(d, s) {
         var j, e = d.getElementsByTagName(s)[0];

         if (typeof LivereTower === 'function') { return; }

         j = d.createElement(s);
         j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
         j.async = true;

         e.parentNode.insertBefore(j, e);
     })(document, 'script');
  </script>
</div> -->
</body>
</html>